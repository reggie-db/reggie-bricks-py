#!/bin/sh
set -e

# Run updates (updates pyproject files)
./scripts.sh project_commands sync_version
./scripts.sh project_commands sync_requires_python
./scripts.sh project_commands sync_member_dependencies

# Stage any changes made by the sync so they land in THIS commit
git add -A

# Optional: tell the user what was staged
if ! git diff --quiet --cached; then
  echo "pre-commit: staged version updates."
fi